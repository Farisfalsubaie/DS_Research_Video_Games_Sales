---
title: "Research_Video_Games_Sales"
author: "Faris Alsubaie"
date: "10/21/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
# Research Question: 
what are the best selling genre from major publishers by region ? 


```{r }
# load packages
library(dplyr)
library(ggplot2)
library(tidyverse)
```

This dataset contains a list of video games with sales greater than 100,000 copies. 
It was generated by a scrape of vgchartz.com.
https://www.kaggle.com/kedokedokedo/vgsales
```{r}
vgsales <- read_csv("data/vgsales.csv")
games <- read.csv("data/vgsales.csv")
```

## Including Plots

# the 3 major publishers

```{r pressure, echo=FALSE}
vgsales_region <- games %>% 
   select(Name, Publisher, ends_with("Sales"), -starts_with("Glo")) %>% 
   pivot_longer(-c(Name, Publisher), names_to = "Region", values_to = "Sales") %>% 
   mutate(Region = str_remove(Region, "_Sales")) %>% 
   filter(Publisher %in% c("Nintendo", "Microsoft Game Studios", "Sony Computer Entertainment"))

unique(vgsales_region$Publisher)
```
# Compare publisher and sales in different regions:
aggregrate totals for each publisher (i.e. ignore game titles)
```{r}
vgsales_region_sum <- vgsales_region %>% 
   group_by(Publisher, Region) %>% 
   summarise(Sales = sum(Sales))

ggplot(vgsales_region_sum, aes(x = Publisher, y = Sales, fill = Region)) +
   geom_col()
```

#looking at sales for each genre:
```{r}
ggplot(games, aes(x = Genre, y = Global_Sales, fill = Genre)) +
   geom_col() +
   theme_classic()
```

#looking at sales for each genre and compare sales for each region:

```{r}
vgsales_genre <- games %>% 
   select(Genre, ends_with("Sales"),    -starts_with("Glo")) %>% 
   summarise(Sales = sum(ends_with("Sales")))

ggplot(vgsales_genre) +
   geom_col()
```
# sales over time 

```{r}
ggplot(games) +
   geom_line(aes(x = Year, y = Global_Sales, group = vgsales_region_sum), color = 'red')
```

```{r}
ggplot(games, aes(Year, Global_Sales)) +
   geom_line(colour = "#33a02c") +
   theme_classic()
```



